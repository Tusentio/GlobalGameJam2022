[gd_scene load_steps=12 format=2]

[ext_resource path="res://Scenes/Tiles/Floors.tres" type="MeshLibrary" id=1]
[ext_resource path="res://Scenes/Player/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/LevelEntrance/LevelEntrance.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/LevelExit/LevelExit.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Tiles/Walls.tres" type="MeshLibrary" id=5]
[ext_resource path="res://Scenes/Pillar/Pillar.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Deathray/Deathray.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scenes/PlayerCamera/PlayerCamera.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scenes/Levels/Level.gd" type="Script" id=9]
[ext_resource path="res://Scripts/CameraPivot.gd" type="Script" id=10]
[ext_resource path="res://Scenes/Lantern/Lantern.tscn" type="PackedScene" id=11]

[node name="Level1" type="Spatial"]
script = ExtResource( 9 )

[node name="Lights" type="Spatial" parent="."]

[node name="Lantern" parent="Lights" instance=ExtResource( 11 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.84, 0, 0.77 )

[node name="Deathray" parent="Lights" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.403617, 0.722091, 1.34962 )

[node name="Pillars" type="Spatial" parent="."]

[node name="Pillar" parent="Pillars" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.672, 0.144 )

[node name="Pillar2" parent="Pillars" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.672, 2.544 )

[node name="Player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.673923, 0.000439592, 0.537885 )

[node name="CameraPivot" type="Spatial" parent="Player"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.12, 0 )
script = ExtResource( 10 )

[node name="PlayerCamera" parent="Player/CameraPivot" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 0.984808, 0.173648, 0, -0.173648, 0.984808, 0, 0.23, 1 )
smooth_factor = 0.001

[node name="LevelEntrance" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.64, 0, 0.32 )

[node name="LevelExit" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.64, 0, 0.32 )

[node name="Floors" type="GridMap" parent="."]
mesh_library = ExtResource( 1 )
cell_size = Vector3( 0.16, 0.16, 0.16 )
cell_center_y = false
cell_scale = 0.16
collision_layer = 3
data = {
"cells": PoolIntArray( 0, 0, 1048577, 1, 0, 1048577, 2, 0, 1048577, 3, 0, 1048577, 4, 0, 1048577, 5, 0, 1048577, 65530, 0, 1048577, 65531, 0, 1048577, 65532, 0, 1048577, 65533, 0, 1048577, 65534, 0, 1048577, 65535, 0, 1048577, 0, 1, 1048577, 1, 1, 1048577, 2, 1, 1048577, 3, 1, 1048577, 4, 1, 1048577, 5, 1, 1048577, 65530, 1, 1048577, 65531, 1, 1048577, 65532, 1, 1048577, 65533, 1, 1048577, 65534, 1, 1048577, 65535, 1, 1048577, 0, 2, 1048577, 1, 2, 1048577, 2, 2, 1048577, 3, 2, 1048577, 4, 2, 1048577, 5, 2, 1048577, 65525, 2, 1048577, 65526, 2, 1048577, 65527, 2, 1048577, 65528, 2, 1048577, 65529, 2, 1048577, 65530, 2, 1048577, 65531, 2, 1048577, 65532, 2, 1048577, 65533, 2, 1048577, 65534, 2, 1048577, 65535, 2, 1048577, 0, 3, 1048577, 1, 3, 1048577, 2, 3, 1048577, 3, 3, 1048577, 4, 3, 1048577, 5, 3, 1048577, 65525, 3, 1048577, 65526, 3, 1048577, 65527, 3, 1048577, 65528, 3, 1048577, 65529, 3, 1048577, 65530, 3, 1048577, 65531, 3, 1048577, 65532, 3, 1048577, 65533, 3, 1048577, 65534, 3, 1441793, 65535, 3, 1048577, 0, 4, 1441793, 1, 4, 1441793, 2, 4, 1441793, 3, 4, 1441793, 4, 4, 1441793, 5, 4, 1441793, 65525, 4, 1048577, 65526, 4, 1048577, 65527, 4, 1048577, 65528, 4, 1048577, 65529, 4, 1048577, 65530, 4, 1441793, 65531, 4, 1441793, 65532, 4, 1441793, 65533, 4, 1441793, 65534, 4, 1441793, 65535, 4, 1441793, 0, 5, 1441793, 1, 5, 1441793, 2, 5, 1441793, 3, 5, 1441793, 4, 5, 1441793, 5, 5, 1441793, 65525, 5, 1048577, 65526, 5, 1048577, 65527, 5, 1048577, 65528, 5, 1048577, 65529, 5, 1048577, 65530, 5, 1441793, 65531, 5, 1441793, 65532, 5, 1441793, 65533, 5, 1441793, 65534, 5, 1441793, 65535, 5, 1441793, 0, 6, 1441793, 1, 6, 1441793, 2, 6, 1441793, 3, 6, 1441793, 4, 6, 1441793, 5, 6, 1441793, 65525, 6, 1048577, 65526, 6, 1048577, 65527, 6, 1048577, 65528, 6, 1048577, 65529, 6, 1048577, 65530, 6, 1441793, 65531, 6, 1441793, 65532, 6, 1441793, 65533, 6, 1441793, 65534, 6, 1441793, 65535, 6, 1441793, 0, 7, 1441793, 1, 7, 1441793, 2, 7, 1441793, 3, 7, 1441793, 4, 7, 1441793, 5, 7, 1441793, 65525, 7, 1048577, 65526, 7, 1048577, 65527, 7, 1048577, 65528, 7, 1048577, 65529, 7, 1048577, 65530, 7, 1441793, 65531, 7, 1441793, 65532, 7, 1441793, 65533, 7, 1441793, 65534, 7, 1441793, 65535, 7, 1441793, 0, 8, 1441793, 1, 8, 1441793, 2, 8, 1441793, 3, 8, 1441793, 4, 8, 1441793, 5, 8, 1441793, 65525, 8, 1048577, 65526, 8, 1048577, 65527, 8, 1048577, 65528, 8, 1048577, 65529, 8, 1048577, 65530, 8, 1441793, 65531, 8, 1441793, 65532, 8, 1441793, 65533, 8, 1441793, 65534, 8, 1441793, 65535, 8, 1441793, 0, 9, 1441793, 1, 9, 1441793, 2, 9, 1441793, 3, 9, 1441793, 4, 9, 1441793, 5, 9, 1441793, 65525, 9, 1048577, 65526, 9, 1048577, 65527, 9, 1048577, 65528, 9, 1048577, 65529, 9, 1048577, 65530, 9, 1441793, 65531, 9, 1441793, 65532, 9, 1441793, 65533, 9, 1441793, 65534, 9, 1441793, 65535, 9, 1441793, 0, 10, 1441793, 1, 10, 1441793, 2, 10, 1441793, 3, 10, 1441793, 4, 10, 1441793, 5, 10, 1441793, 65525, 10, 1048577, 65526, 10, 1048577, 65527, 10, 1048577, 65528, 10, 1048577, 65529, 10, 1048577, 65530, 10, 1441793, 65531, 10, 1441793, 65532, 10, 1441793, 65533, 10, 1441793, 65534, 10, 1441793, 65535, 10, 1441793, 0, 11, 1441793, 1, 11, 1441793, 2, 11, 1441793, 3, 11, 1441793, 4, 11, 1441793, 5, 11, 1441793, 65525, 11, 1048577, 65526, 11, 1048577, 65527, 11, 1048577, 65528, 11, 1048577, 65529, 11, 1048577, 65530, 11, 1441793, 65531, 11, 1441793, 65532, 11, 1441793, 65533, 11, 1441793, 65534, 11, 1441793, 65535, 11, 1441793, 0, 12, 1441793, 1, 12, 1441793, 2, 12, 1441793, 3, 12, 1441793, 4, 12, 1441793, 5, 12, 1441793, 65530, 12, 1441793, 65531, 12, 1441793, 65532, 12, 1441793, 65533, 12, 1441793, 65534, 12, 1441793, 65535, 12, 1441793, 0, 13, 1441793, 1, 13, 1441793, 2, 13, 1441793, 3, 13, 1441793, 4, 13, 1441793, 5, 13, 1441793, 65530, 13, 1441793, 65531, 13, 1441793, 65532, 13, 1441793, 65533, 13, 1441793, 65534, 13, 1441793, 65535, 13, 1441793, 0, 14, 1441793, 1, 14, 1441793, 2, 14, 1441793, 3, 14, 1441793, 4, 14, 1441793, 5, 14, 1441793, 65530, 14, 1441793, 65531, 14, 1441793, 65532, 14, 1441793, 65533, 14, 1441793, 65534, 14, 1441793, 65535, 14, 1441793, 0, 15, 1441793, 1, 15, 1441793, 2, 15, 1441793, 3, 15, 1441793, 4, 15, 1441793, 5, 15, 1441793, 65530, 15, 1441793, 65531, 15, 1441793, 65532, 15, 1441793, 65533, 15, 1441793, 65534, 15, 1441793, 65535, 15, 1441793, 2, 65456, 1048577 )
}
__meta__ = {
"_editor_clip_": 0
}

[node name="Walls" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.64, 0 )
mesh_library = ExtResource( 5 )
cell_size = Vector3( 0.16, 0.16, 0.16 )
cell_center_y = false
cell_scale = 0.16
collision_layer = 3
data = {
"cells": PoolIntArray( 0, 0, 655361, 1, 0, 655361, 2, 0, 655361, 3, 0, 655361, 4, 0, 655361, 5, 0, 655361, 65530, 0, 655361, 65531, 0, 655361, 65532, 0, 655361, 65533, 0, 655361, 65534, 0, 655361, 65535, 0, 655361, 196597, 0, 1, 196598, 0, 1, 196599, 0, 1, 196600, 0, 1, 196601, 0, 1, 0, 1, 1, 1, 1, 1, 2, 1, 1, 3, 1, 1, 4, 1, 1, 5, 1, 1, 65530, 1, 1, 65531, 1, 1, 65532, 1, 1, 65533, 1, 1, 65534, 1, 1, 65535, 1, 1, 196597, 1, 1, 196598, 1, 1, 196599, 1, 1, 196600, 1, 1, 196601, 1, 1, 0, 2, 1, 1, 2, 1, 2, 2, 1, 3, 2, 1, 4, 2, 1, 5, 2, 1, 65530, 2, 1, 65531, 2, 1, 65532, 2, 1, 65533, 2, 1, 65534, 2, 1, 65535, 2, 1, 196597, 2, 1, 196598, 2, 1, 196599, 2, 1, 196600, 2, 1, 196601, 2, 1, 0, 3, 1, 1, 3, 1, 2, 3, 1, 3, 3, 1, 4, 3, 1, 5, 3, 1, 65530, 3, 1, 65531, 3, 1, 65532, 3, 1, 65533, 3, 1, 65534, 3, 1, 65535, 3, 1, 196597, 3, 1, 196598, 3, 1, 196599, 3, 1, 196600, 3, 1, 196601, 3, 1, 2, 65456, 1048577, 0, 65533, 655361, 1, 65533, 655361, 2, 65533, 655361, 3, 65533, 655361, 4, 65533, 655361, 5, 65533, 655361, 65530, 65533, 655361, 65531, 65533, 655361, 65532, 65533, 655361, 65533, 65533, 655361, 65534, 65533, 655361, 65535, 65533, 655361, 196597, 65533, 1, 196598, 65533, 1, 196599, 65533, 1, 196600, 65533, 1, 196601, 65533, 1, 0, 65534, 655361, 1, 65534, 655361, 2, 65534, 655361, 3, 65534, 655361, 4, 65534, 655361, 5, 65534, 655361, 65530, 65534, 655361, 65531, 65534, 655361, 65532, 65534, 655361, 65533, 65534, 655361, 65534, 65534, 655361, 65535, 65534, 655361, 196597, 65534, 1, 196598, 65534, 1, 196599, 65534, 1, 196600, 65534, 1, 196601, 65534, 1, 0, 65535, 655361, 1, 65535, 655361, 2, 65535, 655361, 3, 65535, 655361, 4, 65535, 655361, 5, 65535, 655361, 65530, 65535, 655361, 65531, 65535, 655361, 65532, 65535, 655361, 65533, 65535, 655361, 65534, 65535, 655361, 65535, 65535, 655361, 196597, 65535, 1, 196598, 65535, 1, 196599, 65535, 1, 196600, 65535, 1, 196601, 65535, 1 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 2, 0 )
}

[node name="SideWalls" type="GridMap" parent="."]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh_library = ExtResource( 5 )
cell_size = Vector3( 0.16, 0.16, 0.16 )
cell_center_y = false
cell_scale = 0.16
collision_layer = 3
data = {
"cells": PoolIntArray( 393216, 0, 1, 393217, 0, 1, 393218, 0, 1, 393219, 0, 655361, 393220, 0, 655361, 393221, 0, 655361, 393222, 0, 655361, -393216, 0, 1, -393215, 0, 1, -393214, 0, 1, -393213, 0, 655361, -393212, 0, 655361, -393211, 0, 655361, -393210, 0, 655361, 393216, 1, 1, 393217, 1, 1, 393218, 1, 1, 393219, 1, 655361, 393220, 1, 655361, 393221, 1, 655361, 393222, 1, 655361, -393216, 1, 1, -393215, 1, 1, -393214, 1, 1, -393213, 1, 655361, -393212, 1, 655361, -393211, 1, 655361, -393210, 1, 655361, 393216, 2, 1, 393217, 2, 1, 393218, 2, 1, 393219, 2, 655361, 393220, 2, 655361, 393221, 2, 655361, 393222, 2, 655361, 720896, 2, 1, 720897, 2, 1, 720898, 2, 1, 720899, 2, 1, 720900, 2, 1, 720901, 2, 1, 720902, 2, 1, -393216, 2, 1, -393215, 2, 1, -393214, 2, 1, -393213, 2, 655361, -393212, 2, 655361, -393211, 2, 655361, -393210, 2, 655361, 393216, 3, 1, 393217, 3, 1, 393218, 3, 1, 393219, 3, 655361, 393220, 3, 655361, 393221, 3, 655361, 393222, 3, 655361, 720896, 3, 1, 720897, 3, 1, 720898, 3, 1, 720899, 3, 1, 720900, 3, 1, 720901, 3, 1, 720902, 3, 1, -393216, 3, 1, -393215, 3, 1, -393214, 3, 1, -393213, 3, 655361, -393212, 3, 655361, -393211, 3, 655361, -393210, 3, 655361, 393216, 4, 655361, 393217, 4, 655361, 393218, 4, 655361, 393219, 4, 655361, 393220, 4, 655361, 393221, 4, 655361, 393222, 4, 655361, 720896, 4, 1, 720897, 4, 1, 720898, 4, 1, 720899, 4, 1, 720900, 4, 1, 720901, 4, 1, 720902, 4, 1, -393216, 4, 655361, -393215, 4, 655361, -393214, 4, 655361, -393213, 4, 655361, -393212, 4, 655361, -393211, 4, 655361, -393210, 4, 655361, 393218, 5, 655361, 393219, 5, 655361, 393220, 5, 655361, 393221, 5, 655361, 393222, 5, 655361, 720896, 5, 1, 720897, 5, 1, 720898, 5, 1, 720899, 5, 1, 720900, 5, 1, 720901, 5, 1, 720902, 5, 1, -393216, 5, 655361, -393215, 5, 655361, -393214, 5, 655361, -393213, 5, 655361, -393212, 5, 655361, -393211, 5, 655361, -393210, 5, 655361, 393218, 6, 655361, 393219, 6, 655361, 393220, 6, 655361, 393221, 6, 655361, 393222, 6, 655361, 720896, 6, 1, 720897, 6, 1, 720898, 6, 1, 720899, 6, 1, 720900, 6, 1, 720901, 6, 1, 720902, 6, 1, -393216, 6, 655361, -393215, 6, 655361, -393214, 6, 655361, -393213, 6, 655361, -393212, 6, 655361, -393211, 6, 655361, -393210, 6, 655361, 393216, 7, 655361, 393217, 7, 655361, 393218, 7, 655361, 393219, 7, 655361, 393220, 7, 655361, 393221, 7, 655361, 393222, 7, 655361, 720896, 7, 1, 720897, 7, 1, 720898, 7, 1, 720899, 7, 1, 720900, 7, 1, 720901, 7, 1, 720902, 7, 1, -393216, 7, 655361, -393215, 7, 655361, -393214, 7, 655361, -393213, 7, 655361, -393212, 7, 655361, -393211, 7, 655361, -393210, 7, 655361, 393216, 8, 655361, 393217, 8, 655361, 393218, 8, 655361, 393219, 8, 655361, 393220, 8, 655361, 393221, 8, 655361, 393222, 8, 655361, 720896, 8, 1, 720897, 8, 1, 720898, 8, 1, 720899, 8, 1, 720900, 8, 1, 720901, 8, 1, 720902, 8, 1, -393216, 8, 655361, -393215, 8, 655361, -393214, 8, 655361, -393213, 8, 655361, -393212, 8, 655361, -393211, 8, 655361, -393210, 8, 655361, 393216, 9, 655361, 393217, 9, 655361, 393218, 9, 655361, 393219, 9, 655361, 393220, 9, 655361, 393221, 9, 655361, 393222, 9, 655361, 720896, 9, 1, 720897, 9, 1, 720898, 9, 1, 720899, 9, 1, 720900, 9, 1, 720901, 9, 1, 720902, 9, 1, -393216, 9, 655361, -393215, 9, 655361, -393214, 9, 655361, -393213, 9, 655361, -393212, 9, 655361, -393211, 9, 655361, -393210, 9, 655361, 393216, 10, 655361, 393217, 10, 655361, 393218, 10, 655361, 393219, 10, 655361, 393220, 10, 655361, 393221, 10, 655361, 393222, 10, 655361, 720896, 10, 1, 720897, 10, 1, 720898, 10, 1, 720899, 10, 1, 720900, 10, 1, 720901, 10, 1, 720902, 10, 1, -393216, 10, 655361, -393215, 10, 655361, -393214, 10, 655361, -393213, 10, 655361, -393212, 10, 655361, -393211, 10, 655361, -393210, 10, 655361, 393216, 11, 655361, 393217, 11, 655361, 393218, 11, 655361, 393219, 11, 655361, 393220, 11, 655361, 393221, 11, 655361, 393222, 11, 655361, 720896, 11, 1, 720897, 11, 1, 720898, 11, 1, 720899, 11, 1, 720900, 11, 1, 720901, 11, 1, 720902, 11, 1, -393216, 11, 655361, -393215, 11, 655361, -393214, 11, 655361, -393213, 11, 655361, -393212, 11, 655361, -393211, 11, 655361, -393210, 11, 655361, 393216, 12, 655361, 393217, 12, 655361, 393218, 12, 655361, 393219, 12, 655361, 393220, 12, 655361, 393221, 12, 655361, 393222, 12, 655361, -393216, 12, 655361, -393215, 12, 655361, -393214, 12, 655361, -393213, 12, 655361, -393212, 12, 655361, -393211, 12, 655361, -393210, 12, 655361, 393216, 13, 655361, 393217, 13, 655361, 393218, 13, 655361, 393219, 13, 655361, 393220, 13, 655361, 393221, 13, 655361, 393222, 13, 655361, -393216, 13, 655361, -393215, 13, 655361, -393214, 13, 655361, -393213, 13, 655361, -393212, 13, 655361, -393211, 13, 655361, -393210, 13, 655361, 393216, 14, 655361, 393217, 14, 655361, 393218, 14, 655361, 393219, 14, 655361, 393220, 14, 655361, 393221, 14, 655361, 393222, 14, 655361, -393216, 14, 655361, -393215, 14, 655361, -393214, 14, 655361, -393213, 14, 655361, -393212, 14, 655361, -393211, 14, 655361, -393210, 14, 655361, 393216, 15, 655361, 393217, 15, 655361, 393218, 15, 655361, 393219, 15, 655361, 393220, 15, 655361, 393221, 15, 655361, 393222, 15, 655361, -393216, 15, 655361, -393215, 15, 655361, -393214, 15, 655361, -393213, 15, 655361, -393212, 15, 655361, -393211, 15, 655361, -393210, 15, 655361, 2, 65456, 1048577 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 11, 0 )
}

[connection signal="dying" from="Player" to="Player/CameraPivot" method="_on_Player_dying"]
